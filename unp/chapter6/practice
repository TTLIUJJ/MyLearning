#CHAPTER 6
####1. 我们说过一个描述符集可以用C语言中的赋值语句赋给另一描述符集。如果描述符集是一个整形数组，那么是如何做到的？
在C语言中以下成立：
struct X a;
struct X b;
a = b ;
所以将数组放在结构里面，就可以实现赋值了
####2. 在6.3节讨论select返回“可写”条件时，为什么必须限定套接字为非阻塞才可以说一次写操作返回一个正值。
假设select告诉我们某个套接字可写，并且此时该套接字的发送缓冲区为n字节可用空间，但是如果我们使用n+1个字节的缓冲区长度对这个阻塞式的套接字调用write，write将会被阻塞，等待最后一个自己的可用空间。
对阻塞式的套接字**读**操作只要有数据就会返回一个数值。
而对阻塞式的套接字**写**操作将会一直阻塞到缓冲区足够为止。
所以当我们使用select测试某个套接字的可写条件时，把该套接字预先设置为非阻塞的从而避免阻塞。
####3. 如果在图6-9的第19行上的if关键词前加上else关键词，将会发生什么？
当14行的if条件成立时，即可以往套接字中读取数据并显示出来之后，继续进行一个循环，阻塞在select等待fileno(fp)，接着14行的if不成立，19行的if else成立。
程序可以照常工作，不过效率下降。
####4. 在图6-21的例子中加上一段代码，使得服务器能够使用内核当前允许的最多描述符。
使用getrlimit函数取得RLIMIT_NOFILE资源的当前值，然后调用setrlimit把当前软限制(rlim_cur)设置成硬限制(rlim_max)
####6. 为什么应用程序会以参数SHUT_RDWR来调用shutdown，而不是仅仅调用close?
这与多进程有关系。
shutdwon之后立即给对方发送一个FIN，而close等到文件引用计数值为0时才发送。